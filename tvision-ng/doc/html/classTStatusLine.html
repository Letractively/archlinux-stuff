<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TStatusLine class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.8.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>TStatusLine  Class Reference</h1>A specialized view, usually displayed at the bottom of the screen. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="menus_8h-source.html">menus.h</a>&gt;</code>
<p>
<p>Inheritance diagram for TStatusLine::
<p><center><img src="classTStatusLine.gif" usemap="#TStatusLine_map" border="0"></center>
<map name="TStatusLine_map">
<area href="classTView.html" alt="TView" shape="rect" coords="46,56,128,80">
<area href="classTObject.html" alt="TObject" shape="rect" coords="0,0,82,24">
<area href="classTStreamable.html" alt="TStreamable" shape="rect" coords="92,0,174,24">
</map>
<a href="classTStatusLine-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#a0">TStatusLine</a> (const <a class="el" href="classTRect.html">TRect</a> &amp;bounds, <a class="el" href="classTStatusDef.html">TStatusDef</a> &amp;aDefs)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#a1">~TStatusLine</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#a2">draw</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="classTPalette.html">TPalette</a>&amp;&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#a3">getPalette</a> () const</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#a4">handleEvent</a> (<a class="el" href="structTEvent.html">TEvent</a> &amp;event)</td></tr>
<tr><td nowrap align=right valign=top>virtual const char*&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#a5">hint</a> (<a class="el" href="ttypes_8h.html#a0">ushort</a> aHelpCtx)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#a6">update</a> ()</td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTStreamable.html">TStreamable</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#d0">build</a> ()</td></tr>
<tr><td colspan=2><br><h2>Static Public Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>const char*&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#p0">hintSeparator</a></td></tr>
<tr><td nowrap align=right valign=top>const char* const&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#p1">name</a></td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#b0">TStatusLine</a> (<a class="el" href="ttypes_8h.html#a14">StreamableInit</a>)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#b1">write</a> (<a class="el" href="classopstream.html">opstream</a> &amp;os)</td></tr>
<tr><td nowrap align=right valign=top>virtual void*&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#b2">read</a> (<a class="el" href="classipstream.html">ipstream</a> &amp;is)</td></tr>
<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTStatusItem.html">TStatusItem</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#n0">items</a></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTStatusDef.html">TStatusDef</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTStatusLine.html#n1">defs</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The TStatusLine object is a specialized view, usually displayed at the bottom of the screen. Typical status line displays are lists of available hot keys, displays of available memory, time of day, current edit modes, and hints for users.
<p>
Status line items are <a class="el" href="classTStatusItem.html">TStatusItem</a> objects which contain data members for a text string to be displayed on the status line, a key code to bind a hot key, and a command to be generated if the displayed text is clicked on with the mouse or the hot key is pressed. 
<p>

<p>
Definition at line <a class="el" href="menus_8h-source.html#l00842">842</a> of file <a class="el" href="menus_8h-source.html">menus.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="TStatusLine::TStatusLine"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
TStatusLine::TStatusLine (
          </b></td>
          <td valign="bottom"><b>
const <a class="el" href="classTRect.html">TRect</a> &amp; <em>bounds</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="classTStatusDef.html">TStatusDef</a> &amp; <em>aDefs</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a TStatusLine object with the given bounds by calling TView::TView(bounds). <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTView.html#a0">TView::TView</a>
<p>
</dl>The <a class="el" href="views_8h.html#a42">ofPreProcess</a> bit in <a class="el" href="classTView.html#m2">options</a> is set, <a class="el" href="classTView.html#m3">eventMask</a> is set to include <a class="el" href="system_8h.html#a6">evBroadcast</a>, and <a class="el" href="classTView.html#m7">growMode</a> is set to <a class="el" href="views_8h.html#a51">gfGrowLoY</a> | <a class="el" href="views_8h.html#a52">gfGrowHiX</a> | <a class="el" href="views_8h.html#a53">gfGrowHiY</a>.
<p>
The <a class="el" href="classTStatusLine.html#n1">defs</a> data member is set to `aDefs'. If `aDefs' is 0, <a class="el" href="classTStatusLine.html#n0">items</a> is set to 0; otherwise, <a class="el" href="classTStatusLine.html#n0">items</a> is set to aDefs-&gt;items.     </td>
  </tr>
</table>
<a name="a1" doxytag="TStatusLine::~TStatusLine"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
TStatusLine::~TStatusLine (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disposes of all the <a class="el" href="classTStatusLine.html#n0">items</a> and <a class="el" href="classTStatusLine.html#n1">defs</a> in the TStatusLine object, then calls <a class="el" href="classTView.html">TView</a> destructor. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTView.html#a1">TView::~TView</a> </dl>    </td>
  </tr>
</table>
<a name="b0" doxytag="TStatusLine::TStatusLine"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
TStatusLine::TStatusLine (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="ttypes_8h.html#a14">StreamableInit</a>&nbsp;)<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Each streamable class needs a "builder" to allocate the correct memory for its objects together with the initialized virtual table pointers. This is achieved by calling this constructor with an argument of type <a class="el" href="ttypes_8h.html#a14">StreamableInit</a>.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="d0" doxytag="TStatusLine::build"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTStreamable.html">TStreamable</a> * TStatusLine::build (
          </b></td>
          <td valign="bottom"><b>
)<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called to create an object in certain stream-reading situations. 
<p>
Reimplemented from <a class="el" href="classTView.html#d8">TView</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="TStatusLine::draw"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TStatusLine::draw (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Draws the status line by writing the text string for each status item that has one, then any hints defined for the current help context, following a divider bar. Uses the appropriate palettes depending on each item's status. 
<p>
Reimplemented from <a class="el" href="classTView.html#a19">TView</a>.    </td>
  </tr>
</table>
<a name="a3" doxytag="TStatusLine::getPalette"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTPalette.html">TPalette</a> &amp; TStatusLine::getPalette (
          </b></td>
          <td valign="bottom"><b>
) const<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the default palette string. 
<p>
Reimplemented from <a class="el" href="classTView.html#a46">TView</a>.    </td>
  </tr>
</table>
<a name="a4" doxytag="TStatusLine::handleEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TStatusLine::handleEvent (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="structTEvent.html">TEvent</a> &amp; <em>event</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handles events sent to the status line by calling <a class="el" href="classTView.html#a41">TView::handleEvent</a>(), then checking for three kinds of special events.
<p>
<ol>
<li>Mouse clicks that fall within the rectangle occupied by any status item generate a command event, with event.what set to the command in that status item.<li>Key events are checked against the keyCode data member in each item; a match causes a command event with that item's command.<li>Broadcast events with the command cmCommandSetChanged cause the status line to redraw itself to reflect any hot keys that might have been enabled or disabled. </ol>

<p>
Reimplemented from <a class="el" href="classTView.html#a41">TView</a>.    </td>
  </tr>
</table>
<a name="a5" doxytag="TStatusLine::hint"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
const char * TStatusLine::hint (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="ttypes_8h.html#a0">ushort</a> <em>aHelpCtx</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
By default, <a class="el" href="classTStatusLine.html#a5">hint</a>() returns a 0 string. Override it to provide a context-sensitive hint string for the `aHelpCtx' argument. A nonzero string will be drawn on the status line after a divider bar. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTView.html#a15">getHelpCtx</a> , <a class="el" href="classTView.html#m9">helpCtx</a> </dl>    </td>
  </tr>
</table>
<a name="b2" doxytag="TStatusLine::read"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void * TStatusLine::read (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classipstream.html">ipstream</a> &amp; <em>is</em>&nbsp;)<code> [protected, virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads from the input stream `is'. 
<p>
Reimplemented from <a class="el" href="classTView.html#b2">TView</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="TStatusLine::update"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TStatusLine::update (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Updates the status line by selecting the correct items from the lists in <a class="el" href="classTStatusLine.html#n1">defs</a> data member, depending on the current help context.
<p>
Then calls <a class="el" href="classTView.html#a20">drawView</a>() to redraw the status line if the items have changed.     </td>
  </tr>
</table>
<a name="b1" doxytag="TStatusLine::write"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TStatusLine::write (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classopstream.html">opstream</a> &amp; <em>os</em>&nbsp;)<code> [protected, virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes to the output stream `os'. 
<p>
Reimplemented from <a class="el" href="classTView.html#b1">TView</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="n1" doxytag="TStatusLine::defs"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTStatusDef.html">TStatusDef</a> * TStatusLine::defs<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer to the current linked list of <a class="el" href="classTStatusDef.html">TStatusDef</a> objects. The list to use is determined by the current help context. 
<p>
Definition at line <a class="el" href="menus_8h-source.html#l00919">919</a> of file <a class="el" href="menus_8h-source.html">menus.h</a>.    </td>
  </tr>
</table>
<a name="p0" doxytag="TStatusLine::hintSeparator"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
const char * TStatusLine::hintSeparator<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Undocumented. 
<p>
Definition at line <a class="el" href="menus_8h-source.html#l00909">909</a> of file <a class="el" href="menus_8h-source.html">menus.h</a>.    </td>
  </tr>
</table>
<a name="n0" doxytag="TStatusLine::items"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTStatusItem.html">TStatusItem</a> * TStatusLine::items<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer to the current linked list of <a class="el" href="classTStatusItem.html">TStatusItem</a> records. 
<p>
Definition at line <a class="el" href="menus_8h-source.html#l00914">914</a> of file <a class="el" href="menus_8h-source.html">menus.h</a>.    </td>
  </tr>
</table>
<a name="p1" doxytag="TStatusLine::name"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
const char *const TStatusLine::name<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Undocumented. 
<p>
Reimplemented from <a class="el" href="classTView.html#p4">TView</a>.
<p>
Definition at line <a class="el" href="menus_8h-source.html#l00951">951</a> of file <a class="el" href="menus_8h-source.html">menus.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="menus_8h-source.html">menus.h</a></ul>
<hr><address><small>Generated at Sat Sep 22 20:19:35 2001 for TVision by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.8.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
