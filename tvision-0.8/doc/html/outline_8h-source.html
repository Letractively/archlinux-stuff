<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>outline.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.8.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>outline.h</h1><a href="outline_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment"> * outline.h</font>
00003 <font class="comment"> *</font>
00004 <font class="comment"> * Turbo Vision - Version 2.0</font>
00005 <font class="comment"> *</font>
00006 <font class="comment"> * Copyright (c) 1994 by Borland International</font>
00007 <font class="comment"> * All Rights Reserved.</font>
00008 <font class="comment"> *</font>
00009 <font class="comment"> * Modified by Sergio Sigala &lt;sergio@sigala.it&gt;</font>
00010 <font class="comment"> */</font>
00011 
00012 <font class="preprocessor">#if defined( Uses_TOutlineViewer ) &amp;&amp; !defined( __TOutlineViewer )</font>
00013 <font class="preprocessor"></font><font class="preprocessor">#define __TOutlineViewer</font>
00014 <font class="preprocessor"></font>
00019 <font class="keyword">const</font> <font class="keywordtype">int</font>
00020   ovExpanded = 0x01,
00021   ovChildren = 0x02,
00022   ovLast     = 0x04;
00023 
00024 <font class="keyword">const</font> <font class="keywordtype">int</font>
00025   cmOutlineItemSelected = 301;
00026 
<a name="l00033"></a><a class="code" href="classTNode.html">00033</a> <font class="keyword">class </font><a class="code" href="classTNode.html">TNode</a>
00034 {
00035 <font class="keyword">public</font>:
00039     <font class="keyword">inline</font> <a class="code" href="classTNode.html#a0">TNode</a>(<font class="keywordtype">char</font>* aText);
00045     <font class="keyword">inline</font> <a class="code" href="classTNode.html#a0">TNode</a>(<font class="keywordtype">char</font>* aText, <a class="code" href="classTNode.html">TNode</a>* aChildren, <a class="code" href="classTNode.html">TNode</a>* aNext,
00046         Boolean initialState = True);
00050     <font class="keyword">virtual</font> <a class="code" href="classTNode.html#a2">~TNode</a>();
<a name="l00055"></a><a class="code" href="classTNode.html#m0">00055</a>     <a class="code" href="classTNode.html">TNode</a>* next;
<a name="l00060"></a><a class="code" href="classTNode.html#m1">00060</a>     <font class="keywordtype">char</font>* text;
<a name="l00065"></a><a class="code" href="classTNode.html#m2">00065</a>     <a class="code" href="classTNode.html">TNode</a>* childList;
<a name="l00070"></a><a class="code" href="classTNode.html#m3">00070</a>     Boolean expanded;
00071 };
00072 
<a name="l00073"></a><a class="code" href="classTNode.html#a0">00073</a> <font class="keyword">inline</font> <a class="code" href="classTNode.html#a0">TNode::TNode</a>(<font class="keywordtype">char</font>* aText) :
00074     next(0), text(newStr(aText)), childList(0), expanded(True)
00075 {
00076 }
00077 
<a name="l00078"></a><a class="code" href="classTNode.html#a1">00078</a> <font class="keyword">inline</font> <a class="code" href="classTNode.html#a0">TNode::TNode</a>( <font class="keywordtype">char</font>* aText, <a class="code" href="classTNode.html">TNode</a>* aChildren,
00079                      <a class="code" href="classTNode.html">TNode</a>* aNext, Boolean initialState ) :
00080     next(aNext), text(newStr(aText)),
00081     childList(aChildren), expanded(initialState)
00082 {
00083 }
00084 
<a name="l00085"></a><a class="code" href="classTNode.html#a2">00085</a> <font class="keyword">inline</font> <a class="code" href="classTNode.html#a2">TNode::~TNode</a>()<font class="keyword"> </font>{
00086   <font class="keyword">delete</font> [] text;
00087 }
00088 
00089 <font class="comment">/* ------------------------------------------------------------------------*/</font>
00090 <font class="comment">/*      class TOutlineViewer                                               */</font>
00091 <font class="comment">/*                                                                         */</font>
00092 <font class="comment">/*      Palette layout                                                     */</font>
00093 <font class="comment">/*        1 = Normal color                                                 */</font>
00094 <font class="comment">/*        2 = Focus color                                                  */</font>
00095 <font class="comment">/*        3 = Select color                                                 */</font>
00096 <font class="comment">/*        4 = Not expanded color                                           */</font>
00097 <font class="comment">/* ------------------------------------------------------------------------*/</font>
00098 
00099 <font class="keyword">class </font><a class="code" href="classTRect.html">TRect</a>;
00100 <font class="keyword">class </font><a class="code" href="classTScrollBar.html">TScrollBar</a>;
00101 <font class="keyword">class </font><a class="code" href="structTEvent.html">TEvent</a>;
00102 
<a name="l00112"></a><a class="code" href="classTOutlineViewer.html">00112</a> <font class="keyword">class </font><a class="code" href="classTOutlineViewer.html">TOutlineViewer</a> : <font class="keyword">public</font> <a class="code" href="classTScroller.html">TScroller</a>
00113 {
00114 <font class="keyword">public</font>:
00121     <a class="code" href="classTOutlineViewer.html#a0">TOutlineViewer</a>(<font class="keyword">const</font> <a class="code" href="classTRect.html">TRect</a>&amp; bounds, <a class="code" href="classTScrollBar.html">TScrollBar</a>* aHScrollBar,
00122         <a class="code" href="classTScrollBar.html">TScrollBar</a>* aVScrollBar);
00129     <a class="code" href="classTOutlineViewer.html#a0">TOutlineViewer</a>(StreamableInit s);
00137     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTOutlineViewer.html#a2">adjust</a>(<a class="code" href="classTNode.html">TNode</a>* node, Boolean expand)=0;
00145     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTView.html#a19">draw</a>();
00151     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTOutlineViewer.html#a4">focused</a>(<font class="keywordtype">int</font> i);
00160     <font class="keyword">virtual</font> <a class="code" href="classTNode.html">TNode</a>* <a class="code" href="classTOutlineViewer.html#a5">getChild</a>(<a class="code" href="classTNode.html">TNode</a>* node, <font class="keywordtype">int</font> i)=0;
00170     <font class="keyword">virtual</font> <font class="keywordtype">char</font>* <a class="code" href="classTOutlineViewer.html#a6">getGraph</a>(<font class="keywordtype">int</font> level, <font class="keywordtype">long</font> lines, ushort flags);
00177     <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="classTOutlineViewer.html#a7">getNumChildren</a>(<a class="code" href="classTNode.html">TNode</a>* node)=0;
00182     <font class="keyword">virtual</font> <a class="code" href="classTNode.html">TNode</a>* <a class="code" href="classTOutlineViewer.html#a8">getNode</a>(<font class="keywordtype">int</font> i);
00186     <font class="keyword">virtual</font> <a class="code" href="classTPalette.html">TPalette</a>&amp; <a class="code" href="classTScroller.html#a2">getPalette</a>() <font class="keyword">const</font>;
00191     <font class="keyword">virtual</font> <a class="code" href="classTNode.html">TNode</a>* <a class="code" href="classTOutlineViewer.html#a10">getRoot</a>()=0;
00196     <font class="keyword">virtual</font> <font class="keywordtype">char</font>* <a class="code" href="classTOutlineViewer.html#a11">getText</a>(<a class="code" href="classTNode.html">TNode</a>* node)=0;
00203     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTScroller.html#a3">handleEvent</a>(<a class="code" href="structTEvent.html">TEvent</a>&amp; event);
00215     <font class="keyword">virtual</font> Boolean <a class="code" href="classTOutlineViewer.html#a13">hasChildren</a>(<a class="code" href="classTNode.html">TNode</a>* node)=0;
00222     <font class="keyword">virtual</font> Boolean <a class="code" href="classTOutlineViewer.html#a14">isExpanded</a>(<a class="code" href="classTNode.html">TNode</a>* node)=0;
00229     <font class="keyword">virtual</font> Boolean <a class="code" href="classTOutlineViewer.html#a15">isSelected</a>(<font class="keywordtype">int</font> i);
00237     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTOutlineViewer.html#a16">selected</a>(<font class="keywordtype">int</font> i);
00245     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTScroller.html#a7">setState</a>(ushort aState, Boolean enable);
00260     <font class="keywordtype">void</font> <a class="code" href="classTOutlineViewer.html#a18">update</a>();
00266     <font class="keywordtype">void</font> <a class="code" href="classTOutlineViewer.html#a19">expandAll</a>(<a class="code" href="classTNode.html">TNode</a>* node);
00279     <a class="code" href="classTNode.html">TNode</a>* <a class="code" href="classTOutlineViewer.html#a20">firstThat</a>(Boolean (*test)(<a class="code" href="classTOutlineViewer.html">TOutlineViewer</a>* ov, <a class="code" href="classTNode.html">TNode</a>* node,
00280         <font class="keywordtype">int</font> level, <font class="keywordtype">int</font> position, <font class="keywordtype">long</font> lines, ushort flags));
00316     <a class="code" href="classTNode.html">TNode</a>* <a class="code" href="classTOutlineViewer.html#a21">forEach</a>(Boolean (*action)(<a class="code" href="classTOutlineViewer.html">TOutlineViewer</a>* ov, <a class="code" href="classTNode.html">TNode</a>* cur, <font class="keywordtype">int</font> level,
00317         <font class="keywordtype">int</font> position, <font class="keywordtype">long</font> lines, ushort flags));
00321     <font class="keywordtype">char</font>* <a class="code" href="classTOutlineViewer.html#a22">createGraph</a>(<font class="keywordtype">int</font> level, <font class="keywordtype">long</font> lines, ushort flags, <font class="keywordtype">int</font> levWidth,
00322         <font class="keywordtype">int</font> endWidth, <font class="keyword">const</font> <font class="keywordtype">char</font>* chars);
<a name="l00326"></a><a class="code" href="classTOutlineViewer.html#m0">00326</a>     <font class="keywordtype">int</font> foc;
<a name="l00330"></a><a class="code" href="classTOutlineViewer.html#p0">00330</a>     <font class="keyword">static</font> <font class="keyword">const</font> <font class="keywordtype">char</font>* graphChars;
00331 <font class="keyword">protected</font>:
00335     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="classTOutlineViewer.html#e0">disposeNode</a>(<a class="code" href="classTNode.html">TNode</a>* node);
00339     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTScroller.html#b1">write</a>( <a class="code" href="classopstream.html">opstream</a>&amp; os );
00343     <font class="keyword">virtual</font> <font class="keywordtype">void</font> *<a class="code" href="classTScroller.html#b2">read</a>( <a class="code" href="classipstream.html">ipstream</a>&amp; is );
00344 <font class="keyword">public</font>:
00348     <font class="keyword">static</font> <a class="code" href="classTStreamable.html">TStreamable</a> *<a class="code" href="classTScroller.html#d0">build</a>();
<a name="l00352"></a><a class="code" href="classTOutlineViewer.html#p1">00352</a>     <font class="keyword">static</font> <font class="keyword">const</font> <font class="keywordtype">char</font> * <font class="keyword">const</font> name;
00353 <font class="keyword">private</font>:
00354     <font class="keywordtype">void</font> adjustFocus(<font class="keywordtype">int</font> newFocus);
00355     <a class="code" href="classTNode.html">TNode</a>* iterate(Boolean (*action)(<a class="code" href="classTOutlineViewer.html">TOutlineViewer</a>*, <a class="code" href="classTNode.html">TNode</a>*, <font class="keywordtype">int</font>, <font class="keywordtype">int</font>, <font class="keywordtype">long</font>,
00356         ushort), Boolean checkResult);
00357 };
00358 
<a name="l00359"></a><a class="code" href="classTOutlineViewer.html#a1">00359</a> <font class="keyword">inline</font> <a class="code" href="classTOutlineViewer.html#a0">TOutlineViewer::TOutlineViewer</a>( StreamableInit s) :
00360     <a class="code" href="classTScroller.html">TScroller</a>(s)
00361 {
00362 }
00363 
00364 <font class="preprocessor">#endif // Uses_TOutlineViewer</font>
00365 <font class="preprocessor"></font>
00366 <font class="preprocessor">#if defined( Uses_TOutline ) &amp;&amp; !defined( __TOutline )</font>
00367 <font class="preprocessor"></font><font class="preprocessor">#define __TOutline</font>
00368 <font class="preprocessor"></font>
00369 <font class="comment">/* ------------------------------------------------------------------------*/</font>
00370 <font class="comment">/*      class TOutline                                                     */</font>
00371 <font class="comment">/*                                                                         */</font>
00372 <font class="comment">/*      Palette layout                                                     */</font>
00373 <font class="comment">/*        1 = Normal color                                                 */</font>
00374 <font class="comment">/*        2 = Focus color                                                  */</font>
00375 <font class="comment">/*        3 = Select color                                                 */</font>
00376 <font class="comment">/*        4 = Not expanded color                                           */</font>
00377 <font class="comment">/* ------------------------------------------------------------------------*/</font>
00378 
00379 <font class="keyword">class </font><a class="code" href="classTRect.html">TRect</a>;
00380 <font class="keyword">class </font><a class="code" href="classTScrollBar.html">TScrollBar</a>;
00381 <font class="keyword">class </font><a class="code" href="structTEvent.html">TEvent</a>;
00382 
<a name="l00392"></a><a class="code" href="classTOutline.html">00392</a> <font class="keyword">class </font><a class="code" href="classTOutline.html">TOutline</a> : <font class="keyword">public</font> <a class="code" href="classTOutlineViewer.html">TOutlineViewer</a>
00393 {
00394 <font class="keyword">public</font>:
00402     <a class="code" href="classTOutline.html#a0">TOutline</a>(<font class="keyword">const</font> <a class="code" href="classTRect.html">TRect</a>&amp; bounds, <a class="code" href="classTScrollBar.html">TScrollBar</a>* aHScrollBar,
00403         <a class="code" href="classTScrollBar.html">TScrollBar</a>* aVScrollBar, <a class="code" href="classTNode.html">TNode</a>* aRoot);
00409     <a class="code" href="classTOutline.html#a1">~TOutline</a>();
00415     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTOutlineViewer.html#a2">adjust</a>(<a class="code" href="classTNode.html">TNode</a>* node, Boolean expand);
00420     <font class="keyword">virtual</font> <a class="code" href="classTNode.html">TNode</a>* <a class="code" href="classTOutlineViewer.html#a10">getRoot</a>();
00425     <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="classTOutlineViewer.html#a7">getNumChildren</a>(<a class="code" href="classTNode.html">TNode</a>* node);
00429     <font class="keyword">virtual</font> <a class="code" href="classTNode.html">TNode</a>* <a class="code" href="classTOutlineViewer.html#a5">getChild</a>(<a class="code" href="classTNode.html">TNode</a>* node, <font class="keywordtype">int</font> i);
00433     <font class="keyword">virtual</font> <font class="keywordtype">char</font>* <a class="code" href="classTOutlineViewer.html#a11">getText</a>(<a class="code" href="classTNode.html">TNode</a>* node);
00437     <font class="keyword">virtual</font> Boolean <a class="code" href="classTOutlineViewer.html#a14">isExpanded</a>(<a class="code" href="classTNode.html">TNode</a>* node);
00442     <font class="keyword">virtual</font> Boolean <a class="code" href="classTOutlineViewer.html#a13">hasChildren</a>(<a class="code" href="classTNode.html">TNode</a>* node);
<a name="l00446"></a><a class="code" href="classTOutline.html#m0">00446</a>     <a class="code" href="classTNode.html">TNode</a>* root;
00447 <font class="keyword">protected</font>:
00451     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTOutlineViewer.html#b0">write</a>( <a class="code" href="classopstream.html">opstream</a>&amp; os );
00455     <font class="keyword">virtual</font> <font class="keywordtype">void</font> *<a class="code" href="classTOutlineViewer.html#b1">read</a>( <a class="code" href="classipstream.html">ipstream</a>&amp; is );
00459     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classTOutline.html#b2">writeNode</a>( <a class="code" href="classTNode.html">TNode</a>*, <a class="code" href="classopstream.html">opstream</a>&amp; );
00463     <font class="keyword">virtual</font> <a class="code" href="classTNode.html">TNode</a>* <a class="code" href="classTOutline.html#b3">readNode</a>( <a class="code" href="classipstream.html">ipstream</a>&amp; );
00470     <a class="code" href="classTOutline.html#a0">TOutline</a>( StreamableInit );
00471 <font class="keyword">public</font>:
00475     <font class="keyword">static</font> <a class="code" href="classTStreamable.html">TStreamable</a>* <a class="code" href="classTOutlineViewer.html#d0">build</a>();
<a name="l00479"></a><a class="code" href="classTOutline.html#p0">00479</a>     <font class="keyword">static</font> <font class="keyword">const</font> <font class="keywordtype">char</font>* <font class="keyword">const</font> name;
00480 <font class="keyword">private</font>:
00481     <font class="keyword">virtual</font> <font class="keyword">const</font> <font class="keywordtype">char</font> *streamableName()<font class="keyword"> const</font>
00482 <font class="keyword">        </font>{ <font class="keywordflow">return</font> name; }
00483 };
00484 
<a name="l00485"></a><a class="code" href="classTOutline.html#b4">00485</a> <font class="keyword">inline</font> <a class="code" href="classTOutline.html#a0">TOutline::TOutline</a>( StreamableInit s ) : <a class="code" href="classTOutlineViewer.html">TOutlineViewer</a>( s )
00486 {
00487 }
00488 
<a name="l00492"></a><a class="code" href="outline_8h.html#a4">00492</a> <font class="keyword">inline</font> <a class="code" href="classipstream.html">ipstream</a>&amp; <a class="code" href="views_8h.html#a136">operator &gt;&gt; </a>( <a class="code" href="classipstream.html">ipstream</a>&amp; is, <a class="code" href="classTOutline.html">TOutline</a>&amp; o )<font class="keyword"></font>
00493 <font class="keyword">    </font>{ <font class="keywordflow">return</font> is &gt;&gt; (<a class="code" href="classTStreamable.html">TStreamable</a>&amp;)o; }
<a name="l00497"></a><a class="code" href="outline_8h.html#a5">00497</a> <font class="keyword">inline</font> <a class="code" href="classipstream.html">ipstream</a>&amp; <a class="code" href="views_8h.html#a136">operator &gt;&gt; </a>( <a class="code" href="classipstream.html">ipstream</a>&amp; is, <a class="code" href="classTOutline.html">TOutline</a>*&amp; o )<font class="keyword"></font>
00498 <font class="keyword">    </font>{ <font class="keywordflow">return</font> is &gt;&gt; (<font class="keywordtype">void</font> *&amp;)o; }
00499 
<a name="l00503"></a><a class="code" href="outline_8h.html#a6">00503</a> <font class="keyword">inline</font> <a class="code" href="classopstream.html">opstream</a>&amp; <a class="code" href="views_8h.html#a138">operator &lt;&lt; </a>( <a class="code" href="classopstream.html">opstream</a>&amp; os, <a class="code" href="classTOutline.html">TOutline</a>&amp; o )<font class="keyword"></font>
00504 <font class="keyword">    </font>{ <font class="keywordflow">return</font> os &lt;&lt; (<a class="code" href="classTStreamable.html">TStreamable</a>&amp;)o; }
<a name="l00508"></a><a class="code" href="outline_8h.html#a7">00508</a> <font class="keyword">inline</font> <a class="code" href="classopstream.html">opstream</a>&amp; <a class="code" href="views_8h.html#a138">operator &lt;&lt; </a>( <a class="code" href="classopstream.html">opstream</a>&amp; os, <a class="code" href="classTOutline.html">TOutline</a>* o )<font class="keyword"></font>
00509 <font class="keyword">    </font>{ <font class="keywordflow">return</font> os &lt;&lt; (<a class="code" href="classTStreamable.html">TStreamable</a>*)o; }
00510 
00511 <font class="preprocessor">#endif // Uses_TOutline</font>
</font></pre></div><hr><address><small>Generated at Sat Sep 22 20:19:11 2001 for TVision by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.8.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
