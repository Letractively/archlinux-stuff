<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TProgram class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.8.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>TProgram  Class Reference</h1>The mother of <a class="el" href="classTApplication.html">TApplication</a>. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="app_8h-source.html">app.h</a>&gt;</code>
<p>
<p>Inheritance diagram for TProgram::
<p><center><img src="classTProgram.gif" usemap="#TProgram_map" border="0"></center>
<map name="TProgram_map">
<area href="classTGroup.html" alt="TGroup" shape="rect" coords="46,112,128,136">
<area href="classTProgInit.html" alt="TProgInit" shape="rect" coords="138,112,220,136">
<area href="classTView.html" alt="TView" shape="rect" coords="46,56,128,80">
<area href="classTObject.html" alt="TObject" shape="rect" coords="0,0,82,24">
<area href="classTStreamable.html" alt="TStreamable" shape="rect" coords="92,0,174,24">
<area href="classTApplication.html" alt="TApplication" shape="rect" coords="92,224,174,248">
</map>
<a href="classTProgram-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a0">TProgram</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a1">~TProgram</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="ttypes_8h.html#a13">Boolean</a>&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a2">canMoveFocus</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="ttypes_8h.html#a0">ushort</a>&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a3">executeDialog</a> (<a class="el" href="classTDialog.html">TDialog</a> *pD, void *data=0)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a4">getEvent</a> (<a class="el" href="structTEvent.html">TEvent</a> &amp;event)</td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="classTPalette.html">TPalette</a>&amp;&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a5">getPalette</a> () const</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a6">handleEvent</a> (<a class="el" href="structTEvent.html">TEvent</a> &amp;event)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a7">idle</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a8">initScreen</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a9">outOfMemory</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a10">putEvent</a> (<a class="el" href="structTEvent.html">TEvent</a> &amp;event)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a11">run</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="classTWindow.html">TWindow</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a12">insertWindow</a> (<a class="el" href="classTWindow.html">TWindow</a> *)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a13">setScreenMode</a> (<a class="el" href="ttypes_8h.html#a0">ushort</a> mode)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTView.html">TView</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a14">validView</a> (<a class="el" href="classTView.html">TView</a> *p)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a15">shutDown</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a16">suspend</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#a17">resume</a> ()</td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTStatusLine.html">TStatusLine</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#d0">initStatusLine</a> (<a class="el" href="classTRect.html">TRect</a>)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTMenuBar.html">TMenuBar</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#d1">initMenuBar</a> (<a class="el" href="classTRect.html">TRect</a>)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTDeskTop.html">TDeskTop</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#d2">initDeskTop</a> (<a class="el" href="classTRect.html">TRect</a>)</td></tr>
<tr><td colspan=2><br><h2>Static Public Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>TProgram*&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#p0">application</a></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTStatusLine.html">TStatusLine</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#p1">statusLine</a></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTMenuBar.html">TMenuBar</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#p2">menuBar</a></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTDeskTop.html">TDeskTop</a>*&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#p3">deskTop</a></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#p4">appPalette</a></td></tr>
<tr><td colspan=2><br><h2>Static Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structTEvent.html">TEvent</a>&nbsp;</td><td valign=bottom><a class="el" href="classTProgram.html#q0">pending</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The mother of <a class="el" href="classTApplication.html">TApplication</a>.
<p>
TProgram provides the basic template for all standard TVision applications. All programs must be derived from TProgram or its immediate derived class, <a class="el" href="classTApplication.html">TApplication</a>. <a class="el" href="classTApplication.html">TApplication</a> differs from TProgram only for its constructor and destructor. However most applications will be derived from <a class="el" href="classTApplication.html">TApplication</a>. 
<p>

<p>
Definition at line <a class="el" href="app_8h-source.html#l00524">524</a> of file <a class="el" href="app_8h-source.html">app.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="TProgram::TProgram"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
TProgram::TProgram (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor.
<p>
The TProgram constructor calls the <a class="el" href="classTProgInit.html">TProgInit</a> constructor, passing to it the addresses of three init functions. The <a class="el" href="classTProgInit.html">TProgInit</a> constructor creates a status line, menu bar, and desk top.
<p>
If these calls are successful, the three objects are inserted into the TProgram group. Variables <a class="el" href="classTProgram.html#p1">statusLine</a>, <a class="el" href="classTProgram.html#p2">menuBar</a> and <a class="el" href="classTProgram.html#p3">deskTop</a> are set to point at these new objects.
<p>
The <a class="el" href="classTGroup.html">TGroup</a> constructor is also invoked to create a full screen view; the video buffer and default palettes are initialized; and the following state flags are set:
<p>
<pre>
 state = <a class="el" href="views_8h.html#a26">sfVisible</a> | <a class="el" href="views_8h.html#a31">sfSelected</a> | <a class="el" href="views_8h.html#a32">sfFocused</a> |
         <a class="el" href="views_8h.html#a35">sfModal</a> | <a class="el" href="views_8h.html#a37">sfExposed</a>;
 </pre>     </td>
  </tr>
</table>
<a name="a1" doxytag="TProgram::~TProgram"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
TProgram::~TProgram (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor.
<p>
Deletes the associated <a class="el" href="classTProgram.html#p3">deskTop</a>, <a class="el" href="classTProgram.html#p2">menuBar</a>, <a class="el" href="classTProgram.html#p1">statusLine</a> objects, and sets <a class="el" href="classTProgram.html#p0">application</a> to 0.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a2" doxytag="TProgram::canMoveFocus"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="ttypes_8h.html#a13">Boolean</a> TProgram::canMoveFocus (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns True if the focus can be moved from one desktop view to another one.
<p>
It just returns `deskTop-&gt;valid(cmReleasedFocus)'. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTGroup.html#a37">TGroup::valid</a> </dl>    </td>
  </tr>
</table>
<a name="a3" doxytag="TProgram::executeDialog"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="ttypes_8h.html#a0">ushort</a> TProgram::executeDialog (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classTDialog.html">TDialog</a> * <em>pD</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
void * <em>data</em> = 0&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Executes a dialog.
<p>
`pD' points to the dialog. The dialog is executed only if it is valid. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTDialog.html#a3">TDialog::valid</a>
<p>
</dl>`data' is a pointer to the memory area where the dialog data will be read before executing the dialog and where the dialog data will be written after executing the dialog. If `data' is 0 no data area is used. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTGroup.html#a27">TGroup::getData</a> , <a class="el" href="classTGroup.html#a28">TGroup::setData</a>
<p>
</dl>This method calls <a class="el" href="classTGroup.html#a3">TGroup::execView</a>() to execute the dialog. The dialog is destroyed before returning from the function, so a call to delete is not necessary. <a class="el" href="classTProgram.html#a3">executeDialog</a>() returns cmCancel if the view is not valid, otherwise it returns the return value of <a class="el" href="classTGroup.html#a3">TGroup::execView</a>().     </td>
  </tr>
</table>
<a name="a4" doxytag="TProgram::getEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::getEvent (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="structTEvent.html">TEvent</a> &amp; <em>event</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets an event.
<p>
This method collects events from the system like key events, mouse events and timer events and returns them in the `event' structure.
<p>
<a class="el" href="classTProgram.html#a4">getEvent</a>() first checks if <a class="el" href="classTProgram.html#a10">TProgram::putEvent</a>() has generated a pending event. If so, <a class="el" href="classTProgram.html#a4">getEvent</a>() returns that event. If there is no pending event, <a class="el" href="classTProgram.html#a4">getEvent</a>() calls <a class="el" href="classTScreen.html#d0">TScreen::getEvent</a>().
<p>
If both calls return <a class="el" href="system_8h.html#a7">evNothing</a>, indicating that no user input is available, <a class="el" href="classTProgram.html#a4">getEvent</a>() calls <a class="el" href="classTProgram.html#a7">TProgram::idle</a>() to allow "background" tasks to be performed while the application is waiting for user input. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTProgram.html#a7">TProgram::idle</a>()
<p>
</dl>Before returning, <a class="el" href="classTProgram.html#a4">getEvent</a>() passes any <a class="el" href="system_8h.html#a4">evKeyDown</a> and <a class="el" href="system_8h.html#a0">evMouseDown</a> events to the <a class="el" href="classTProgram.html#p1">statusLine</a> for it to map into associated <a class="el" href="system_8h.html#a5">evCommand</a> hot key events. 
<p>
Reimplemented from <a class="el" href="classTView.html#a40">TView</a>.
<p>
Reimplemented in <a class="el" href="classTApplication.html#a2">TApplication</a>.    </td>
  </tr>
</table>
<a name="a5" doxytag="TProgram::getPalette"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTPalette.html">TPalette</a> &amp; TProgram::getPalette (
          </b></td>
          <td valign="bottom"><b>
) const<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a reference to the standard TProgram palette.
<p>
Returns the palette string given by the palette index in <a class="el" href="classTProgram.html#p4">appPalette</a>. TProgram supports three palettes. <a class="el" href="classTProgram.html#p4">appPalette</a> is initialized by <a class="el" href="classTProgram.html#a8">TProgram::initScreen</a>(). 
<p>
Reimplemented from <a class="el" href="classTView.html#a46">TView</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="TProgram::handleEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::handleEvent (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="structTEvent.html">TEvent</a> &amp; <em>event</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Standard TProgram event handler.
<p>
This method first checks for keyboard events. When it catches keys from Alt-1 to Alt-9 it generates an <a class="el" href="system_8h.html#a6">evBroadcast</a> event with the `command' field equal to cmSelectWindowNum and the `infoPtr' field in the range 1 to 9.
<p>
Then it calls <a class="el" href="classTGroup.html#a23">TGroup::handleEvent</a>().
<p>
Last it checks for a cmQuit command in a <a class="el" href="system_8h.html#a5">evCommand</a> event. On success it calls TGroup::endModal(cmQuit) to end the modal state. This causes <a class="el" href="classTProgram.html#a11">TProgram::run</a>() method to return. In most applications this will result in program termination. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTGroup.html#a34">TGroup::endModal</a>
<p>
</dl>Method <a class="el" href="classTProgram.html#a6">handleEvent</a>() is almost always overridden to introduce handling of commands that are specific to your own application. 
<p>
Reimplemented from <a class="el" href="classTGroup.html#a23">TGroup</a>.    </td>
  </tr>
</table>
<a name="a7" doxytag="TProgram::idle"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::idle (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called when in idle state.
<p>
This method is called whenever the library is in idle state, i.e. there is not any event to serve. It allows the application to perform background tasks while waiting for user input.
<p>
The default <a class="el" href="classTProgram.html#a7">idle</a>() calls statusLine-&gt;update() to allow the status line to update itself according to the current help context. Then, if the command set has changed since the last call to <a class="el" href="classTProgram.html#a7">idle</a>(), an <a class="el" href="system_8h.html#a6">evBroadcast</a> with a command value of cmCommandSetChanged is generated to allow views that depend on the command set to enable or disable themselves. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTStatusLine.html#a6">TStatusLine::update</a>
<p>
</dl>Note: in the original DOS version this method was called continously. In my port this method is called about 10 times in a second. This result in less CPU load.
<p>
The user may redefine this method, for example, to update a clock in the upper right corner of the screen, like the `demo' program does.     </td>
  </tr>
</table>
<a name="d2" doxytag="TProgram::initDeskTop"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTDeskTop.html">TDeskTop</a> * TProgram::initDeskTop (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classTRect.html">TRect</a>&nbsp;)<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new desktop.
<p>
This method creates a standard <a class="el" href="classTDeskTop.html">TDeskTop</a> view and returns its address.
<p>
The address of this function is passed to the <a class="el" href="classTProgInit.html">TProgInit</a> constructor, which creates a <a class="el" href="classTDeskTop.html">TDeskTop</a> object for the application and stores a pointer to it in the <a class="el" href="classTProgram.html#p3">deskTop</a> static member.
<p>
<a class="el" href="classTProgram.html#d2">initDeskTop</a>() should never be called directly. Few applications need to redefine it to have a custom desktop, instead of the default empty <a class="el" href="classTDeskTop.html">TDeskTop</a>.     </td>
  </tr>
</table>
<a name="d1" doxytag="TProgram::initMenuBar"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTMenuBar.html">TMenuBar</a> * TProgram::initMenuBar (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classTRect.html">TRect</a>&nbsp;)<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new menu bar.
<p>
This method creates a standard <a class="el" href="classTMenuBar.html">TMenuBar</a> view and returns its address.
<p>
The address of this function is passed to the <a class="el" href="classTProgInit.html">TProgInit</a> constructor, which creates a <a class="el" href="classTMenuBar.html">TMenuBar</a> object for the application and stores a pointer to it in the <a class="el" href="classTProgram.html#p2">menuBar</a> static member.
<p>
<a class="el" href="classTProgram.html#d1">initMenuBar</a>() should never be called directly. <a class="el" href="classTProgram.html#d1">initMenuBar</a>() is almost always overridden to instantiate a user defined <a class="el" href="classTMenuBar.html">TMenuBar</a> instead of the default empty <a class="el" href="classTMenuBar.html">TMenuBar</a>.     </td>
  </tr>
</table>
<a name="a8" doxytag="TProgram::initScreen"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::initScreen (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes the screen.
<p>
This method is called by the TProgram constructor and <a class="el" href="classTProgram.html#a13">setScreenMode</a>() every time the screen mode is initialized or changed. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTProgram.html#a0">TProgram::TProgram</a>
<p>
</dl>Performs the updating and adjustment of screen mode-dependent variables for shadow size, markers and application palette (color, monochrome or black &amp; white). The shadows are usually painted in the right and bottom sides of menus and windows.     </td>
  </tr>
</table>
<a name="d0" doxytag="TProgram::initStatusLine"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTStatusLine.html">TStatusLine</a> * TProgram::initStatusLine (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classTRect.html">TRect</a>&nbsp;)<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new status line.
<p>
This method creates a standard <a class="el" href="classTStatusLine.html">TStatusLine</a> view and returns its address.
<p>
The address of this function is passed to the <a class="el" href="classTProgInit.html">TProgInit</a> constructor, which creates a <a class="el" href="classTStatusLine.html">TStatusLine</a> object for the application and stores a pointer to it in the <a class="el" href="classTProgram.html#p1">statusLine</a> static member.
<p>
<a class="el" href="classTProgram.html#d0">initStatusLine</a>() should never be called directly. <a class="el" href="classTProgram.html#d0">initStatusLine</a>() is almost always overridden to instantiate a user defined <a class="el" href="classTStatusLine.html">TStatusLine</a> instead of the default empty <a class="el" href="classTStatusLine.html">TStatusLine</a>.     </td>
  </tr>
</table>
<a name="a12" doxytag="TProgram::insertWindow"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTWindow.html">TWindow</a> * TProgram::insertWindow (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classTWindow.html">TWindow</a> *&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Inserts a window in the TProgram.     </td>
  </tr>
</table>
<a name="a9" doxytag="TProgram::outOfMemory"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::outOfMemory (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called on out of memory condition.
<p>
It is called from <a class="el" href="classTProgram.html#a14">validView</a>() whenever <a class="el" href="util_8h.html#a14">lowMemory</a>() returns True.
<p>
This happens when there is few free memory. Of course this should rarely happen. This method may be redefined to tell the user (by calling <a class="el" href="msgbox_8h.html#a10">messageBox</a>() for example) that there is not free memory to end the current task.     </td>
  </tr>
</table>
<a name="a10" doxytag="TProgram::putEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::putEvent (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="structTEvent.html">TEvent</a> &amp; <em>event</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets a pending event.
<p>
Puts an event in the pending state, by storing a copy of the `event' structure in the <a class="el" href="classTProgram.html#q0">pending</a> variable, a static member of TProgram.
<p>
Only one event is allowed to be pending. The next call to <a class="el" href="classTProgram.html#a4">getEvent</a>() will return this pending event even if there are other events in the system queue to be handled. 
<p>
Reimplemented from <a class="el" href="classTView.html#a42">TView</a>.    </td>
  </tr>
</table>
<a name="a17" doxytag="TProgram::resume"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::resume (
          </b></td>
          <td valign="bottom"><b>
)<code> [inline, virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Restores the execution of the application.
<p>
This method is empty. Will be redefined in <a class="el" href="classTApplication.html">TApplication</a> which is a child of TProgram. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTApplication.html#a1">TApplication::resume</a> </dl>
<p>
Reimplemented in <a class="el" href="classTApplication.html#a1">TApplication</a>.
<p>
Definition at line <a class="el" href="app_8h-source.html#l00767">767</a> of file <a class="el" href="app_8h-source.html">app.h</a>.    </td>
  </tr>
</table>
<a name="a11" doxytag="TProgram::run"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::run (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Runs TProgram.
<p>
Executes TProgram by calling its method <a class="el" href="classTGroup.html#a4">execute</a>(), which TProgram inherits from <a class="el" href="classTGroup.html">TGroup</a>.     </td>
  </tr>
</table>
<a name="a13" doxytag="TProgram::setScreenMode"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::setScreenMode (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="ttypes_8h.html#a0">ushort</a> <em>mode</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets a new screen mode.
<p>
The `mode' parameter can by one of the constants smCO80, smBW80 or smMono, defined in `<a class="el" href="system_8h.html">system.h</a>' as follows. Optionally the value may be or-ed with smFont8x8.
<p>
<pre>
 Constant  Value  Meaning

 smBW80    0x0002 Requires black &amp; white screen, 80 columns
 smCO80    0x0003 Requires color screen, 80 columns
 smMono    0x0007 Requires monochrome screen
 smFont8x8 0x0100 Requires small size font
 </pre>
<p>
Note: in my port this method only redraws the screen.     </td>
  </tr>
</table>
<a name="a15" doxytag="TProgram::shutDown"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::shutDown (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Releases TProgram resources.
<p>
Used internally by <a class="el" href="classTObject.html#d0">TObject::destroy</a>() to ensure correct destruction of derived and related objects. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTObject.html#a1">TObject::shutDown</a>
<p>
</dl>This method releases all the resources allocated by TProgram. It sets pointers <a class="el" href="classTProgram.html#p1">statusLine</a>, <a class="el" href="classTProgram.html#p2">menuBar</a> and <a class="el" href="classTProgram.html#p3">deskTop</a> to 0 and then calls <a class="el" href="classTGroup.html#a2">TGroup::shutDown</a>() and <a class="el" href="classTVMemMgr.html#d2">TVMemMgr::clearSafetyPool</a>(). 
<p>
Reimplemented from <a class="el" href="classTGroup.html#a2">TGroup</a>.    </td>
  </tr>
</table>
<a name="a16" doxytag="TProgram::suspend"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void TProgram::suspend (
          </b></td>
          <td valign="bottom"><b>
)<code> [inline, virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Stops the execution of the application.
<p>
This method is empty. Will be redefined in <a class="el" href="classTApplication.html">TApplication</a> which is a child of TProgram. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTApplication.html#a0">TApplication::suspend</a> </dl>
<p>
Reimplemented in <a class="el" href="classTApplication.html#a0">TApplication</a>.
<p>
Definition at line <a class="el" href="app_8h-source.html#l00759">759</a> of file <a class="el" href="app_8h-source.html">app.h</a>.    </td>
  </tr>
</table>
<a name="a14" doxytag="TProgram::validView"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTView.html">TView</a> * TProgram::validView (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classTView.html">TView</a> * <em>p</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Checks if a view is valid.
<p>
Returns `p' if the view pointed by `p' is valid. Otherwise returns a null pointer.
<p>
First, if `p' is 0 the call returns 0.
<p>
Next, if <a class="el" href="util_8h.html#a14">lowMemory</a>() returns True the view pointed by `p' is released by calling <a class="el" href="classTObject.html#d0">TObject::destroy</a>() followed by <a class="el" href="classTProgram.html#a9">outOfMemory</a>() and the function returns 0.
<p>
Last if a call to `p-&gt;valid(cmValid)' returns False the view pointed by `p' is released and the function returns 0. <dl compact><dt>
<b>See also: </b><dd>
<a class="el" href="classTView.html#a16">TView::valid</a>
<p>
</dl>Otherwise, the view is considered valid, and pointer `p' is returned.     </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="p4" doxytag="TProgram::appPalette"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int TProgram::appPalette<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The current application palette. Indexes the default palette for this application. The <a class="el" href="classTPalette.html">TPalette</a> object corresponding to appPalette is returned by <a class="el" href="classTProgram.html#a5">getPalette</a>(). This value is set automatically at startup by <a class="el" href="classTProgram.html#a8">initScreen</a>().
<p>
The following application palette constants are defined:
<p>
<pre>
 Constant     Value Meaning

 <a class="el" href="app_8h.html#a21">apColor</a>      0     Use palette for color screen
 <a class="el" href="app_8h.html#a22">apBlackWhite</a> 1     Use palette for LCD screen
 <a class="el" href="app_8h.html#a23">apMonochrome</a> 2     Use palette for monochrome screen
 </pre> 
<p>
Definition at line <a class="el" href="app_8h-source.html#l00866">866</a> of file <a class="el" href="app_8h-source.html">app.h</a>.    </td>
  </tr>
</table>
<a name="p0" doxytag="TProgram::application"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
TProgram * TProgram::application<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer to the current application, direct istance of TProgram or istance of another class derived from TProgram, usually <a class="el" href="classTApplication.html">TApplication</a>. Set to this by the <a class="el" href="classTProgInit.html">TProgInit</a> constructor.
<p>
Only one TProgram object can exist at any time. In this way every object can call TProgram methods even if it does't know its name. 
<p>
Definition at line <a class="el" href="app_8h-source.html#l00825">825</a> of file <a class="el" href="app_8h-source.html">app.h</a>.    </td>
  </tr>
</table>
<a name="p3" doxytag="TProgram::deskTop"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTDeskTop.html">TDeskTop</a> * TProgram::deskTop<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer to the current desk top object, set by a call to <a class="el" href="classTProgInit.html#n2">TProgInit::createDeskTop</a> in the TProgram constructor. The resulting desk top is inserted into the TProgram group.
<p>
May be 0 if no desk top exist. 
<p>
Definition at line <a class="el" href="app_8h-source.html#l00849">849</a> of file <a class="el" href="app_8h-source.html">app.h</a>.    </td>
  </tr>
</table>
<a name="p2" doxytag="TProgram::menuBar"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTMenuBar.html">TMenuBar</a> * TProgram::menuBar<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer to the current menu bar object, set by a call to <a class="el" href="classTProgInit.html#n1">TProgInit::createMenuBar</a> in the TProgram constructor. The resulting menu bar is inserted into the TProgram group.
<p>
May be 0 if no menu bar exist. 
<p>
Definition at line <a class="el" href="app_8h-source.html#l00841">841</a> of file <a class="el" href="app_8h-source.html">app.h</a>.    </td>
  </tr>
</table>
<a name="q0" doxytag="TProgram::pending"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="structTEvent.html">TEvent</a> TProgram::pending<code> [static, protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The current pending event.
<p>
This structure contains the current pending event, if any exists. A maximum of one pending event may be set by calling <a class="el" href="classTProgram.html#a10">putEvent</a>(). 
<p>
Definition at line <a class="el" href="app_8h-source.html#l00874">874</a> of file <a class="el" href="app_8h-source.html">app.h</a>.    </td>
  </tr>
</table>
<a name="p1" doxytag="TProgram::statusLine"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="classTStatusLine.html">TStatusLine</a> * TProgram::statusLine<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer to the current status line object, set by a call to <a class="el" href="classTProgInit.html#n0">TProgInit::createStatusLine</a> in the TProgram constructor. The resulting status line is inserted into the TProgram group.
<p>
May be 0 if no status line exist. 
<p>
Definition at line <a class="el" href="app_8h-source.html#l00833">833</a> of file <a class="el" href="app_8h-source.html">app.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="app_8h-source.html">app.h</a></ul>
<hr><address><small>Generated at Sat Sep 22 20:19:31 2001 for TVision by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.8.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
