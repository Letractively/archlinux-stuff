pkgname=my-own-repo-web-interface
pkgver=0.1
pkgrel=2
pkgdesc="Custom user repo interface (pacman/rpm/deb)"
arch=(i686 x86_64)
url="http://code.google.com/p/archlinux-stuff/wiki/MyOwnRepo"
license=('GPL')
depends=(perl php perl-dbd-sqlite)
backup=(srv/my-own-repo/config.php)
options=()
install=my-own-repo-web-interface.install
source=(http://archlinux-stuff.googlecode.com/files/my-own-repo-web-interface-$pkgver.tar.gz)
md5sums=('dd20275963f7308752032a08ced3d01d')

build() {
  cd $startdir/src

  install -d -m0755 $startdir/pkg/usr/lib/my-own-repo-web-interface && \
  install -d -m0755 $startdir/pkg/usr/bin && \
  install -d -m0755 $startdir/pkg/srv/my-own-repo && \
  install -m0755 my-own-repo-update.pl $startdir/pkg/usr/bin/my-own-repo-update && \
  install -m0755 pacman.pm $startdir/pkg/usr/lib/my-own-repo-web-interface/ && \
  install -m0755 rpm.pm $startdir/pkg/usr/lib/my-own-repo-web-interface/ && \
  install -m0755 dpkg.pm $startdir/pkg/usr/lib/my-own-repo-web-interface/ && \
  install -m0644 config.php $startdir/pkg/srv/my-own-repo/ && \
  install -m0644 detail.php $startdir/pkg/srv/my-own-repo/ && \
  install -m0644 recent.php $startdir/pkg/srv/my-own-repo/ && \
  install -m0644 menu.php $startdir/pkg/srv/my-own-repo/ && \
  install -m0644 default-theme.css $startdir/pkg/srv/my-own-repo/ && \
  install -m0644 search.php $startdir/pkg/srv/my-own-repo/
}
